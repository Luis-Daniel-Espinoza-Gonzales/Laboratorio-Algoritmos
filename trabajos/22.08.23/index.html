<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
        $.ajax({
            url: 'https://api.themoviedb.org/3/genre/movie/list?api_key=0e72c32f18442a694f54726ee7d10a33',
            type: 'GET',
            dataType: 'json',
            success: function(data_01) {
                str_00 = '';
                str_01 = "";
                str_02 = 0;
                str_03 = "";
                for(x=0 ; x<data_01['genres'].length ; x++){
                    str_02 = data_01.genres[x].id;
                    str_00 = data_01.genres[x].name;
                    str_01 += "<input class='btn_genre' id='"+ str_02 +"' type='button' value='"+ str_00 +"'/>";
                }
                $('#result_00').html(str_01);
                $('.btn_genre').click(function(){
                    var genero = $(this).attr('id');
                        $.ajax({
                        url: "https://api.themoviedb.org/3/discover/movie?api_key=0e72c32f18442a694f54726ee7d10a33&with_genres="+ genero +"&page=1",
                        type: 'GET',
                        dataType: 'json',
                            success: function(data_02){
                                str_03 = "";
                                for(c=0 ; c<data_02['results'].length ; c++){
                                    str_03 += '<img src= https://image.tmdb.org/t/p/original'+ data_02.results[c].poster_path +' height="350px" >'
                                }
                                $('#result_01').html(str_03);
                        }
                    })
                });
            }
        });
    </script>
</head>
<body>
    <div id="result_00"></div>
    <div id="result_01"></div>
</body>

</html>